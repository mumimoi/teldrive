import{j as e,an as s,bN as t,bO as l,av as i,aD as a,a4 as o,bP as n,bQ as r,bR as d,bS as c,bT as u,V as p,au as h,ax as m,ap as b,ad as g,bU as v,c as y,bV as f,am as P,ag as x,t as C,bW as k,ai as N,as as M,a0 as S,bX as K,br as F,bY as j,bZ as I,b_ as A,a1 as w,b$ as D,c0 as V}from"./index-Cdeb2vN-.js";function O(s){const{isSelected:t,disableAnimation:l,...i}=s;return e.jsx("svg",{"aria-hidden":"true","data-selected":t,role:"presentation",viewBox:"0 0 17 18",...i,children:e.jsx("polyline",{fill:"none",points:"1 9 7 14 15 4",stroke:"currentColor",strokeDasharray:22,strokeDashoffset:t?44:66,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,style:l?{}:{transition:"stroke-dashoffset 200ms ease"}})})}const B=new WeakMap;function U(e,s){let t=B.get(e);if(!t)throw new Error("Unknown list");return`${t.id}-option-${l=s,"string"==typeof l?l.replace(/\s*/g,""):""+l}`;var l}function W(e){const[t,l]=g(e,v.variantKeys),{as:i,item:a,state:S,description:K,startContent:F,endContent:j,isVirtualized:I,selectedIcon:A,className:w,classNames:D,autoFocus:V,onPress:O,onClick:W,shouldHighlightOnFocus:z,hideSelectedIcon:H=!1,isReadOnly:L=!1,...E}=t,T=e.disableAnimation,R=y.useRef(null),$=i||(e.href?"a":"li"),Q="string"==typeof $,{rendered:X,key:Y}=a,Z=S.disabledKeys.has(Y)||e.isDisabled,_="none"!==S.selectionManager.selectionMode,q=f(),{pressProps:G,isPressed:J}=P({ref:R,isDisabled:Z,onPress:O}),{isHovered:ee,hoverProps:se}=h({isDisabled:Z}),{isFocusVisible:te,focusProps:le}=x({autoFocus:V}),{isFocused:ie,isSelected:ae,optionProps:oe,labelProps:ne,descriptionProps:re}=function(e,t,l){var i,a;let{key:g}=e,v=B.get(t);var y;let f=null!==(y=e.isDisabled)&&void 0!==y?y:t.selectionManager.isDisabled(g);var P;let x=null!==(P=e.isSelected)&&void 0!==P?P:t.selectionManager.isSelected(g);var C;let k=null!==(C=e.shouldSelectOnPressUp)&&void 0!==C?C:null==v?void 0:v.shouldSelectOnPressUp;var N;let M=null!==(N=e.shouldFocusOnHover)&&void 0!==N?N:null==v?void 0:v.shouldFocusOnHover;var S;let K=null!==(S=e.shouldUseVirtualFocus)&&void 0!==S?S:null==v?void 0:v.shouldUseVirtualFocus;var F;let j=null!==(F=e.isVirtualized)&&void 0!==F?F:null==v?void 0:v.isVirtualized,I=n(),A=n(),w={role:"option","aria-disabled":f||void 0,"aria-selected":"none"!==t.selectionManager.selectionMode?x:void 0};r()&&d()||(w["aria-label"]=e["aria-label"],w["aria-labelledby"]=I,w["aria-describedby"]=A);let D=t.collection.getItem(g);if(j){let e=Number(null==D?void 0:D.index);w["aria-posinset"]=Number.isNaN(e)?void 0:e+1,w["aria-setsize"]=c(t.collection)}let V=(null==v?void 0:v.onAction)?()=>{var e;return null==v||null===(e=v.onAction)||void 0===e?void 0:e.call(v,g)}:void 0,{itemProps:O,isPressed:W,isFocused:z,hasAction:H,allowsSelection:L}=u({selectionManager:t.selectionManager,key:g,ref:l,shouldSelectOnPressUp:k,allowsDifferentPressOrigin:k&&M,isVirtualized:j,shouldUseVirtualFocus:K,isDisabled:f,onAction:V||(null==D||null===(i=D.props)||void 0===i?void 0:i.onAction)?p(null==D||null===(a=D.props)||void 0===a?void 0:a.onAction,V):void 0,linkBehavior:null==v?void 0:v.linkBehavior}),{hoverProps:E}=h({isDisabled:f||!M,onHoverStart(){m()||(t.selectionManager.setFocused(!0),t.selectionManager.setFocusedKey(g))}}),T=s(null==D?void 0:D.props);delete T.id;let R=b(null==D?void 0:D.props);return{optionProps:{...w,...o(T,O,E,R),id:U(t,g)},labelProps:{id:I},descriptionProps:{id:A},isFocused:z,isFocusVisible:z&&m(),isSelected:x,isDisabled:f,isPressed:W,allowsSelection:L,hasAction:H}}({key:Y,isDisabled:Z,"aria-label":t["aria-label"],isVirtualized:I},S,R);let de=oe;const ce=y.useMemo((()=>v({...l,isDisabled:Z,disableAnimation:T})),[...Object.values(l),Z,T]),ue=C(null==D?void 0:D.base,w);L&&(de=k(de));const pe=y.useMemo((()=>!(!z||!ie)||(q?ee||J:ee)),[ee,J,ie,q,z]),he=y.useCallback(((e={})=>({"aria-hidden":N(!0),"data-disabled":N(Z),className:ce.selectedIcon({class:null==D?void 0:D.selectedIcon}),...e})),[Z,ce,D]);return{Component:$,domRef:R,slots:ce,classNames:D,isSelectable:_,isSelected:ae,isDisabled:Z,rendered:X,description:K,startContent:F,endContent:j,selectedIcon:A,hideSelectedIcon:H,disableAnimation:T,getItemProps:(e={})=>({ref:R,...o({onClick:W},de,L?{}:o(le,G),se,M(E,{enabled:Q}),e),"data-selectable":N(_),"data-focus":N(ie),"data-hover":N(pe),"data-disabled":N(Z),"data-selected":N(ae),"data-pressed":N(J),"data-focus-visible":N(te),className:ce.base({class:C(ue,e.className)})}),getLabelProps:(e={})=>({...o(ne,e),"data-label":N(!0),className:ce.title({class:null==D?void 0:D.title})}),getWrapperProps:(e={})=>({...o(e),className:ce.wrapper({class:null==D?void 0:D.wrapper})}),getDescriptionProps:(e={})=>({...o(re,e),className:ce.description({class:null==D?void 0:D.description})}),getSelectedIconProps:he}}var z=S(((s,t)=>{const{Component:l,rendered:i,slots:a,classNames:o,description:n,isSelectable:r,isSelected:d,isDisabled:c,selectedIcon:u,startContent:p,endContent:h,hideSelectedIcon:m,disableAnimation:b,getItemProps:g,getLabelProps:v,getWrapperProps:f,getDescriptionProps:P,getSelectedIconProps:x}=W(s),C=y.useMemo((()=>{const s=e.jsx(O,{disableAnimation:b,isSelected:d});return"function"==typeof u?u({icon:s,isSelected:d,isDisabled:c}):u||s}),[u,d,c,b]);return e.jsxs(l,{...g(),children:[p&&e.jsx("span",{className:a.startContent({class:null==o?void 0:o.startContent}),children:p}),n?e.jsxs("div",{...f(),children:[e.jsx("span",{...v(),children:i}),e.jsx("span",{...P(),children:n})]}):e.jsx("span",{...v(),children:i}),r&&!m&&e.jsx("span",{...x(),children:C}),h&&!d&&e.jsx("span",{className:a.endContent({class:null==o?void 0:o.endContent}),children:h})]})}));z.displayName="TwMaterial.ListboxItem";var H=z,L=S((({item:s,state:t,as:l,disableAnimation:a,className:n,classNames:r,hideSelectedIcon:d,showDivider:c=!1,dividerProps:u={},itemClasses:p,title:h,...m},b)=>{var g,v;const f=l||"li",P=y.useMemo((()=>K()),[]),x=C(null==r?void 0:r.base,n),k=C(null==r?void 0:r.divider,null==u?void 0:u.className),{itemProps:N,headingProps:M,groupProps:S}=function(e){let{heading:s,"aria-label":t}=e,l=i();return{itemProps:{role:"presentation"},headingProps:s?{id:l,role:"presentation"}:{},groupProps:{role:"group","aria-label":t,"aria-labelledby":s?l:void 0}}}({heading:s.rendered,"aria-label":s["aria-label"]});return e.jsxs(f,{"data-slot":"base",...o(N,m),className:P.base({class:x}),children:[s.rendered&&e.jsx("span",{...M,className:P.heading({class:null==r?void 0:r.heading}),"data-slot":"heading",children:s.rendered}),e.jsxs("ul",{...S,className:P.group({class:null==r?void 0:r.group}),"data-has-title":!!s.rendered,"data-slot":"group",children:[[...null==(v=(g=t.collection).getChildren)?void 0:v.call(g,s.key)].map((s=>{const{key:l,props:i}=s;let n=e.jsx(H,{classNames:o(p,null==i?void 0:i.classNames),disableAnimation:a,hideSelectedIcon:d,item:s,state:t,...i},l);return s.wrapper&&(n=s.wrapper(n)),n})),c&&e.jsx(F,{as:"li",className:P.divider({class:k}),...u})]})]},s.key)}));L.displayName="TwMaterial.ListboxSection";var E=L;class T{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let s=this.keyMap.get(e);return s?s.prevKey:null}getKeyAfter(e){let s=this.keyMap.get(e);return s?s.nextKey:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){const s=[...this.getKeys()];return this.getItem(s[e])}getChildren(e){let s=this.keyMap.get(e);return(null==s?void 0:s.childNodes)||[]}constructor(e){this.keyMap=new Map,this.iterable=e;let s,t=e=>{if(this.keyMap.set(e.key,e),e.childNodes&&"section"===e.type)for(let s of e.childNodes)t(s)};for(let i of e)t(i);let l=0;for(let[i,a]of this.keyMap)s?(s.nextKey=i,a.prevKey=s.key):(this.firstKey=i,a.prevKey=void 0),"item"===a.type&&(a.index=l++),s=a,s.nextKey=void 0;this.lastKey=null==s?void 0:s.key}}function R(e){let{filter:s}=e,t=j(e),l=y.useMemo((()=>e.disabledKeys?new Set(e.disabledKeys):new Set),[e.disabledKeys]),i=y.useCallback((e=>new T(s?s(e):e)),[s]),a=y.useMemo((()=>({suppressTextValueWarning:e.suppressTextValueWarning})),[e.suppressTextValueWarning]),o=I(e,i,a),n=y.useMemo((()=>new A(o,t)),[o,t]);const r=y.useRef(null);return y.useEffect((()=>{if(null!=t.focusedKey&&!o.getItem(t.focusedKey)){const e=r.current.getItem(t.focusedKey),s=[...r.current.getKeys()].map((e=>{const s=r.current.getItem(e);return"item"===s.type?s:null})).filter((e=>null!==e)),l=[...o.getKeys()].map((e=>{const s=o.getItem(e);return"item"===s.type?s:null})).filter((e=>null!==e)),i=s.length-l.length;let a,d=Math.min(i>1?Math.max(e.index-i+1,0):e.index,l.length-1);for(;d>=0;){if(!n.isDisabled(l[d].key)){a=l[d];break}d<l.length-1?d++:(d>e.index&&(d=e.index),d--)}t.setFocusedKey(a?a.key:null)}r.current=o}),[o,n,t,t.focusedKey]),{collection:o,disabledKeys:l,selectionManager:n}}function $(e){const{ref:n,as:r,state:d,onAction:c,children:u,onSelectionChange:p,disableAnimation:h,itemClasses:m,className:b,topContent:g,bottomContent:v,emptyContent:f="No items.",hideSelectedIcon:P=!1,hideEmptyContent:x=!1,shouldHighlightOnFocus:k=!1,classNames:N,...S}=e,K=r||"ul",F="string"==typeof K,j=w(n),I=R({...e,children:u,onSelectionChange:p}),A=d||I,{listBoxProps:V}=function(e,n,r){let d=s(e,{labelable:!0}),c=e.selectionBehavior||"toggle",u=e.linkBehavior||("replace"===c?"action":"override");"toggle"===c&&"action"===u&&(u="override");let{listProps:p}=t({...e,ref:r,selectionManager:n.selectionManager,collection:n.collection,disabledKeys:n.disabledKeys,linkBehavior:u}),{focusWithinProps:h}=l({onFocusWithin:e.onFocus,onBlurWithin:e.onBlur,onFocusWithinChange:e.onFocusChange}),m=i(e.id);B.set(n,{id:m,shouldUseVirtualFocus:e.shouldUseVirtualFocus,shouldSelectOnPressUp:e.shouldSelectOnPressUp,shouldFocusOnHover:e.shouldFocusOnHover,isVirtualized:e.isVirtualized,onAction:e.onAction,linkBehavior:u});let{labelProps:b,fieldProps:g}=a({...e,id:m,labelElementType:"span"});return{labelProps:b,listBoxProps:o(d,h,"multiple"===n.selectionManager.selectionMode?{"aria-multiselectable":"true"}:{},{role:"listbox",...o(g,p)})}}({...e,onAction:c},A,j),O=y.useMemo((()=>D({className:b})),[,b]),U=C(null==N?void 0:N.base,b);return{Component:K,state:A,slots:O,classNames:N,topContent:g,bottomContent:v,emptyContent:f,hideEmptyContent:x,shouldHighlightOnFocus:k,hideSelectedIcon:P,disableAnimation:h,className:b,itemClasses:m,getBaseProps:(e={})=>({ref:j,"data-slot":"base",className:O.base({class:U}),...M(S,{enabled:F}),...e}),getListProps:(e={})=>({"data-slot":"list",className:O.list({class:null==N?void 0:N.list}),...V,...e}),getEmptyContentProps:(e={})=>({"data-slot":"empty-content",children:f,className:O.emptyContent({class:null==N?void 0:N.emptyContent}),...e})}}function Q(s,t){const{Component:l,state:i,itemClasses:a,getBaseProps:n,topContent:r,bottomContent:d,hideEmptyContent:c,hideSelectedIcon:u,shouldHighlightOnFocus:p,disableAnimation:h,getEmptyContentProps:m,getListProps:b}=$({...s,ref:t}),g=e.jsxs(l,{...b(),children:[!i.collection.size&&!c&&e.jsx("li",{children:e.jsx("div",{...m()})}),[...i.collection].map((s=>{var t;const l={item:s,state:i,disableAnimation:h,hideSelectedIcon:u,...s.props};if("section"===s.type)return e.jsx(E,{...l,itemClasses:a},s.key);let n=e.jsx(H,{...l,classNames:o(a,null==(t=s.props)?void 0:t.classNames),shouldHighlightOnFocus:p},s.key);return s.wrapper&&(n=s.wrapper(n)),n}))]});return e.jsxs("div",{...n(),children:[r,g,d]})}Q.displayName="TwMaterial.Listbox";var X=S(Q),Y=V;export{R as $,Y as a,X as l};
